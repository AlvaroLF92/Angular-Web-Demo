"use strict";(self.webpackChunkmi_aplicacion=self.webpackChunkmi_aplicacion||[]).push([[459],{1459:(W,l,o)=>{o.r(l),o.d(l,{LoginComponent:()=>$});var s=o(9417),m=o(177),u=o(7673),c=o(3236),p=o(8793),d=o(6697),h=o(9974),v=o(4360),F=o(5343),L=o(6354),I=o(1397),P=o(8750);function g(t,a){return a?r=>(0,p.x)(a.pipe((0,d.s)(1),function C(){return(0,h.N)((t,a)=>{t.subscribe((0,v._)(a,F.l))})}()),r.pipe(g(t))):(0,I.Z)((r,i)=>(0,P.Tg)(t(r,i)).pipe((0,d.s)(1),function E(t){return(0,L.T)(()=>t)}(r)))}var j=o(1584),M=o(8745),n=o(4020),N=o(8010),O=o(2461),T=o(8834),f=o(6833),U=o(9631),b=o(5596),x=o(9183);function G(t,a){1&t&&(n.j41(0,"span"),n.EFF(1,"Login"),n.k0s())}function R(t,a){1&t&&n.nrm(0,"mat-spinner",11)}function S(t,a){1&t&&(n.j41(0,"div",12),n.EFF(1," Usuario o contrase\xf1a incorrectos "),n.k0s())}let $=(()=>{class t{fb;authService;router;loginForm;loginError=!1;isLoading=!1;defaultUsername;defaultPassword;constructor(r,i,e){this.fb=r,this.authService=i,this.router=e,this.loginForm=this.fb.group({userName:["",s.k0.required],passWord:["",s.k0.required]}),this.defaultUsername="user",this.defaultPassword="1234"}get userName(){return this.loginForm.get("userName")}get passWord(){return this.loginForm.get("passWord")}onLogin(){if(this.loginForm.valid){this.isLoading=!0;const{userName:r,passWord:i}=this.loginForm.value;(0,u.of)(this.authService.login({userName:r,passWord:i})).pipe(function y(t,a=c.E){const r=(0,j.O)(t,a);return g(()=>r)}(2e3)).subscribe(e=>{e?(this.router.navigate(["/dashboard"]),this.isLoading=!1,console.log("Te has logeado correctamente")):(this.loginError=!0,this.isLoading=!1,console.log("Ha habido un problema con el login"))})}}static \u0275fac=function(i){return new(i||t)(n.rXU(s.ok),n.rXU(N.u),n.rXU(O.Ix))};static \u0275cmp=n.VBU({type:t,selectors:[["app-login"]],decls:26,vars:7,consts:[[1,"login-container"],[1,"default-credentials"],[1,"login-card"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","userName","placeholder","user"],["matInput","","type","password","formControlName","passWord","placeholder","1234"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[4,"ngIf"],["diameter","20","class","spinner",4,"ngIf"],["class","error-text",4,"ngIf"],["diameter","20",1,"spinner"],[1,"error-text"]],template:function(i,e){1&i&&(n.j41(0,"div",0)(1,"div",1)(2,"p")(3,"strong"),n.EFF(4,"Usuario:"),n.k0s(),n.EFF(5),n.k0s(),n.j41(6,"p")(7,"strong"),n.EFF(8,"Contrase\xf1a:"),n.k0s(),n.EFF(9),n.k0s()(),n.j41(10,"mat-card",2)(11,"h2"),n.EFF(12,"Iniciar sesi\xf3n"),n.k0s(),n.j41(13,"form",3),n.bIt("ngSubmit",function(){return e.onLogin()}),n.j41(14,"mat-form-field",4)(15,"mat-label"),n.EFF(16,"Usuario"),n.k0s(),n.nrm(17,"input",5),n.k0s(),n.j41(18,"mat-form-field",4)(19,"mat-label"),n.EFF(20,"Contrase\xf1a"),n.k0s(),n.nrm(21,"input",6),n.k0s(),n.j41(22,"button",7),n.DNE(23,G,2,0,"span",8)(24,R,1,0,"mat-spinner",9),n.k0s()(),n.DNE(25,S,2,0,"div",10),n.k0s()()),2&i&&(n.R7$(5),n.SpI(" ",e.defaultUsername,""),n.R7$(4),n.SpI(" ",e.defaultPassword,""),n.R7$(4),n.Y8G("formGroup",e.loginForm),n.R7$(9),n.Y8G("disabled",e.isLoading),n.R7$(),n.Y8G("ngIf",!e.isLoading),n.R7$(),n.Y8G("ngIf",e.isLoading),n.R7$(),n.Y8G("ngIf",e.loginError))},dependencies:[s.X1,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,m.MD,m.bT,M.G,T.$z,f.rl,f.nJ,U.fg,b.RN,x.LG],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;background:#f5f5f5;margin-top:5rem}.login-card[_ngcontent-%COMP%]{width:100%;max-width:25rem;padding:2rem;display:flex;flex-direction:column;gap:1rem;box-shadow:0 .25rem 1.25rem #0000001a;background-color:#fff}.full-width[_ngcontent-%COMP%]{width:100%}.error-text[_ngcontent-%COMP%]{color:red;margin-top:.625rem;text-align:center}.default-credentials[_ngcontent-%COMP%]{background-color:#f1f1f1;width:10rem;height:4rem;display:flex;flex-direction:column;margin:2rem}.default-credentials[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.default-credentials[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1b086e}"]})}return t})()}}]);